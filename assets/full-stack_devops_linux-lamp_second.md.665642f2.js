import{_ as s,o as a,c as l,Q as e}from"./chunks/framework.5584abd2.js";const u=JSON.parse('{"title":"第二步 编译安装mariadb数据库环境","description":"","frontmatter":{"tags":["Linux","架构","运维","LAMP"],"category":"Linux 运维"},"headers":[],"relativePath":"full-stack/devops/linux-lamp/second.md","filePath":"full-stack/devops/linux-lamp/second.md","lastUpdated":1696847840000}'),n={name:"full-stack/devops/linux-lamp/second.md"},o=e(`<h1 id="第二步-编译安装mariadb数据库环境" tabindex="-1">第二步 编译安装mariadb数据库环境 <a class="header-anchor" href="#第二步-编译安装mariadb数据库环境" aria-label="Permalink to &quot;第二步 编译安装mariadb数据库环境&quot;">​</a></h1><h2 id="_1、mariadb数据库概述" tabindex="-1">1、Mariadb数据库概述 <a class="header-anchor" href="#_1、mariadb数据库概述" aria-label="Permalink to &quot;1、Mariadb数据库概述&quot;">​</a></h2><p>Mariadb是开源的关系型数据库服务器软件</p><ul><li><p>目前由SUN公司开发和维护</p></li><li><p>官方站点：<a href="https://mariadb.org/" target="_blank" rel="noreferrer">https://mariadb.org/</a></p></li></ul><p>Mariadb的特点</p><ul><li><p>多线程、多用户</p></li><li><p>基于客户/服务器架构</p></li><li><p>简单易用</p></li><li><p>查询速度快</p></li><li><p>安全可靠</p></li></ul><h2 id="_2、安装前准备工作" tabindex="-1">2、安装前准备工作 <a class="header-anchor" href="#_2、安装前准备工作" aria-label="Permalink to &quot;2、安装前准备工作&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# dnf remove -y mariadb mariadb-server		#卸载已安装的mariadb服务</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# yum install -y cmake gcc-c++  libstdc++-*  ncurses-devel libaio* bison ncurses-devel openssl-devel openssl gcc-c++ cmake </span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# mkdir -p /usr/local/mysql				#创建需要的文件夹</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# mkdir -p /var/run/mysqld</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# mkdir -p /var/lib/mysql</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# which nologin							#创建用户以及用户组</span></span>
<span class="line"><span style="color:#e1e4e8;">/usr/sbin/nologin</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]#  groupadd mysql</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# useradd -g mysql -d /usr/local/mysql/ -s /usr/sbin/nologin mysql</span></span>
<span class="line"><span style="color:#e1e4e8;">useradd: warning: the home directory already exists.</span></span>
<span class="line"><span style="color:#e1e4e8;">Not copying any file from skel directory into it.</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# chmod 777 -R /var/lib/mysql/ /var/run/mysqld/ /usr/local/mysql/	#文件夹读写权限</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# chown mysql:mysql -R /var/lib/mysql/ /var/run/mysqld/ /usr/local/mysql/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost packages]# dnf remove -y mariadb mariadb-server		#卸载已安装的mariadb服务</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# yum install -y cmake gcc-c++  libstdc++-*  ncurses-devel libaio* bison ncurses-devel openssl-devel openssl gcc-c++ cmake </span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# mkdir -p /usr/local/mysql				#创建需要的文件夹</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# mkdir -p /var/run/mysqld</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# mkdir -p /var/lib/mysql</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# which nologin							#创建用户以及用户组</span></span>
<span class="line"><span style="color:#24292e;">/usr/sbin/nologin</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]#  groupadd mysql</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# useradd -g mysql -d /usr/local/mysql/ -s /usr/sbin/nologin mysql</span></span>
<span class="line"><span style="color:#24292e;">useradd: warning: the home directory already exists.</span></span>
<span class="line"><span style="color:#24292e;">Not copying any file from skel directory into it.</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# chmod 777 -R /var/lib/mysql/ /var/run/mysqld/ /usr/local/mysql/	#文件夹读写权限</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost packages]# chown mysql:mysql -R /var/lib/mysql/ /var/run/mysqld/ /usr/local/mysql/</span></span></code></pre></div><h2 id="_3、解压mariadb安装包" tabindex="-1">3、解压mariadb安装包 <a class="header-anchor" href="#_3、解压mariadb安装包" aria-label="Permalink to &quot;3、解压mariadb安装包&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost packages]# tar -xvf /app/packages/mariadb-10.5.6.tar.xz -C /app/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost packages]# tar -xvf /app/packages/mariadb-10.5.6.tar.xz -C /app/</span></span></code></pre></div><h2 id="_4、编译选项参考" tabindex="-1">4、编译选项参考 <a class="header-anchor" href="#_4、编译选项参考" aria-label="Permalink to &quot;4、编译选项参考&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc  -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DWITH_SSL=system -DWITH_ZLIB=system -DWITH_LIBWRAP=0 -DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITHOUT_TOKUDB=1		#编译选项详见mariadb的说明文档</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc  -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DWITH_SSL=system -DWITH_ZLIB=system -DWITH_LIBWRAP=0 -DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITHOUT_TOKUDB=1		#编译选项详见mariadb的说明文档</span></span></code></pre></div><h2 id="_5、开始编译安装" tabindex="-1">5、开始编译安装 <a class="header-anchor" href="#_5、开始编译安装" aria-label="Permalink to &quot;5、开始编译安装&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost mariadb-10.5.6]# cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc  -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DWITH_SSL=system -DWITH_ZLIB=system -DWITH_LIBWRAP=0 -DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITHOUT_TOKUDB=1</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mariadb-10.5.6]# make &amp;&amp; make install		#编译安装时间会有点长</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost mariadb-10.5.6]# cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc  -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DWITH_SSL=system -DWITH_ZLIB=system -DWITH_LIBWRAP=0 -DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITHOUT_TOKUDB=1</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mariadb-10.5.6]# make &amp;&amp; make install		#编译安装时间会有点长</span></span></code></pre></div><h2 id="_6、安装后的配置" tabindex="-1">6、安装后的配置 <a class="header-anchor" href="#_6、安装后的配置" aria-label="Permalink to &quot;6、安装后的配置&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost mariadb-10.5.6]# export PATH=$PATH:/usr/local/mysql/bin		#环境变量</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mariadb-10.5.6]# /usr/local/mysql/scripts/mysql_install_db --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data  --defaults-file=/etc/my.cnf --socket=/var/lib/mysql/mysql.sock		#初始化</span></span>
<span class="line"><span style="color:#e1e4e8;">#设置开机启动</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# cp -rf support-files/mysql.server /etc/init.d/mysqld </span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# chmod 777 /etc/init.d/mysqld </span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# chkconfig --add mysqld</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# chkconfig mysqld on  </span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# vim /etc/init.d/mysqld </span></span>
<span class="line"><span style="color:#e1e4e8;">basedir=/usr/local/mysql</span></span>
<span class="line"><span style="color:#e1e4e8;">datadir=/usr/local/mysql/data</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost /]# cd /usr/local/mysql/</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# chmod -R 777 data</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# mysqld_safe --datadir=&#39;/usr/local/mysql/data&#39;</span></span>
<span class="line"><span style="color:#e1e4e8;">201204 02:05:33 mysqld_safe Logging to &#39;/var/log/mariadb/mariadb.log&#39;.</span></span>
<span class="line"><span style="color:#e1e4e8;">201204 02:05:34 mysqld_safe Starting mariadbd daemon with databases from /usr/local/mysql/data</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost mariadb-10.5.6]# export PATH=$PATH:/usr/local/mysql/bin		#环境变量</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mariadb-10.5.6]# /usr/local/mysql/scripts/mysql_install_db --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data  --defaults-file=/etc/my.cnf --socket=/var/lib/mysql/mysql.sock		#初始化</span></span>
<span class="line"><span style="color:#24292e;">#设置开机启动</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mysql]# cp -rf support-files/mysql.server /etc/init.d/mysqld </span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mysql]# chmod 777 /etc/init.d/mysqld </span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mysql]# chkconfig --add mysqld</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mysql]# chkconfig mysqld on  </span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mysql]# vim /etc/init.d/mysqld </span></span>
<span class="line"><span style="color:#24292e;">basedir=/usr/local/mysql</span></span>
<span class="line"><span style="color:#24292e;">datadir=/usr/local/mysql/data</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">[root@localhost /]# cd /usr/local/mysql/</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mysql]# chmod -R 777 data</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost mysql]# mysqld_safe --datadir=&#39;/usr/local/mysql/data&#39;</span></span>
<span class="line"><span style="color:#24292e;">201204 02:05:33 mysqld_safe Logging to &#39;/var/log/mariadb/mariadb.log&#39;.</span></span>
<span class="line"><span style="color:#24292e;">201204 02:05:34 mysqld_safe Starting mariadbd daemon with databases from /usr/local/mysql/data</span></span></code></pre></div><h2 id="_7、开启服务" tabindex="-1">7、开启服务 <a class="header-anchor" href="#_7、开启服务" aria-label="Permalink to &quot;7、开启服务&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# systemctl start mysql</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost mysql]# systemctl start mysql</span></span></code></pre></div><h2 id="_8、登录以及退出" tabindex="-1">8、登录以及退出 <a class="header-anchor" href="#_8、登录以及退出" aria-label="Permalink to &quot;8、登录以及退出&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost mysql]# mysql -u root</span></span>
<span class="line"><span style="color:#e1e4e8;">Welcome to the MariaDB monitor.  Commands end with ; or \\g.</span></span>
<span class="line"><span style="color:#e1e4e8;">Your MariaDB connection id is 4</span></span>
<span class="line"><span style="color:#e1e4e8;">Server version: 10.5.6-MariaDB Source distribution</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">MariaDB [(none)]&gt; quit</span></span>
<span class="line"><span style="color:#e1e4e8;">Bye</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost mysql]# mysql -u root</span></span>
<span class="line"><span style="color:#24292e;">Welcome to the MariaDB monitor.  Commands end with ; or \\g.</span></span>
<span class="line"><span style="color:#24292e;">Your MariaDB connection id is 4</span></span>
<span class="line"><span style="color:#24292e;">Server version: 10.5.6-MariaDB Source distribution</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">MariaDB [(none)]&gt; quit</span></span>
<span class="line"><span style="color:#24292e;">Bye</span></span></code></pre></div><blockquote><p>mysql -u root [-p] 未指定-p时表示不需要密码登录</p><p>退出可以使用exit quit</p></blockquote><h2 id="_9、数据库的简单使用" tabindex="-1">9、数据库的简单使用 <a class="header-anchor" href="#_9、数据库的简单使用" aria-label="Permalink to &quot;9、数据库的简单使用&quot;">​</a></h2><pre><code>查看数据库列表信息
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SHOW DATABASES</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SHOW DATABASES</span></span></code></pre></div><pre><code>查看数据库中的数据表信息
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">USE 数据库名</span></span>
<span class="line"><span style="color:#e1e4e8;">SHOW TABLES</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">USE 数据库名</span></span>
<span class="line"><span style="color:#24292e;">SHOW TABLES</span></span></code></pre></div><pre><code>显示数据表的结构
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">DESCRIBE [数据库名.表名]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">DESCRIBE [数据库名.表名]</span></span></code></pre></div><pre><code>创建新的数据库
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">CREATE DATABASE 数据库名</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">CREATE DATABASE 数据库名</span></span></code></pre></div><pre><code>创建数据表
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">CREATE TABLE 表名 (字段定义...)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">CREATE TABLE 表名 (字段定义...)</span></span></code></pre></div><pre><code>删除数据表
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">DROP TABLE [数据库名.表名]、</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">DROP TABLE [数据库名.表名]、</span></span></code></pre></div><pre><code>删除数据库
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">DROP DATABASE [数据库名]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">DROP DATABASE [数据库名]</span></span></code></pre></div><pre><code>向数据表中插入记录
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">INSERT INTO 表名(字段1, 字段2, ……)  VALUES(字段1的值, 字段2的值, ……)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">INSERT INTO 表名(字段1, 字段2, ……)  VALUES(字段1的值, 字段2的值, ……)</span></span></code></pre></div><pre><code>从数据库中查找
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">SELECT 字段名1,字段名2 …… FROM 表名 WHERE 条件表达式</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">SELECT 字段名1,字段名2 …… FROM 表名 WHERE 条件表达式</span></span></code></pre></div><pre><code>修改、更新数据表中的数据记录
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">UPDATE 表名 SET 字段名1=字段值1[,字段名2=字段值2]  WHERE 条件表达式</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">UPDATE 表名 SET 字段名1=字段值1[,字段名2=字段值2]  WHERE 条件表达式</span></span></code></pre></div><pre><code>在数据表中删除指定的数据记录
</code></pre><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">DELETE FROM 表名 WHERE 条件表达式</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">DELETE FROM 表名 WHERE 条件表达式</span></span></code></pre></div><h2 id="_10、数据库维护" tabindex="-1">10、数据库维护 <a class="header-anchor" href="#_10、数据库维护" aria-label="Permalink to &quot;10、数据库维护&quot;">​</a></h2><p>备份数据库</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost ~]# mysqldump -u root -p auth &gt; mysql-auth.sql				#备份auth库</span></span>
<span class="line"><span style="color:#e1e4e8;">Enter password:</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost ~]# mysqldump -u root -p --all-databases &gt; mysql-all.sql	#备份所有库</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost ~]# ls -l mysql-*.sql</span></span>
<span class="line"><span style="color:#e1e4e8;">-rw-r--r-- 1 root root 292300 09-17 04:55 mysql-all.sql</span></span>
<span class="line"><span style="color:#e1e4e8;">-rw-r--r-- 1 root root   1678 09-17 04:55 mysql-auth.sql</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost ~]# mysqldump -u root -p auth &gt; mysql-auth.sql				#备份auth库</span></span>
<span class="line"><span style="color:#24292e;">Enter password:</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost ~]# mysqldump -u root -p --all-databases &gt; mysql-all.sql	#备份所有库</span></span>
<span class="line"><span style="color:#24292e;">[root@localhost ~]# ls -l mysql-*.sql</span></span>
<span class="line"><span style="color:#24292e;">-rw-r--r-- 1 root root 292300 09-17 04:55 mysql-all.sql</span></span>
<span class="line"><span style="color:#24292e;">-rw-r--r-- 1 root root   1678 09-17 04:55 mysql-auth.sql</span></span></code></pre></div><p>从备份中恢复</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@localhost ~]# mysql -u root -p auth &lt; mysql-auth.sql			#恢复auth库 </span></span>
<span class="line"><span style="color:#e1e4e8;">[root@localhost ~]# mysql -u root -p &lt; mysql-all.sql 				#恢复所有库</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@localhost ~]# mysql -u root -p auth &lt; mysql-auth.sql			#恢复auth库 </span></span>
<span class="line"><span style="color:#24292e;">[root@localhost ~]# mysql -u root -p &lt; mysql-all.sql 				#恢复所有库</span></span></code></pre></div><p>注：构建服务所需的包可在<a href="https://download.csdn.net/download/qq_45417634/13208956" target="_blank" rel="noreferrer">server_source_2020.iso </a>请自行下载，您也可以在所需安装包官网下载 本地源配置、防火墙、selinux等是linux较为基础的内容，不再赘述。 本文均为原创，如需与博主交流可email至mufeng.yu@qq.com</p>`,50),p=[o];function t(c,r,i,d,y,h){return a(),l("div",null,p)}const g=s(n,[["render",t]]);export{u as __pageData,g as default};
